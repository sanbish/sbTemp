@using System.Security.Claims
@using MyInventory.Helper


<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="~/assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="~/assets/img/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>@ViewBag.Title - My Inventory</title>
    <!--     Fonts and icons     -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700,300|Material+Icons' rel='stylesheet' type='text/css'>
    <!-- CSS Files -->
    <link href="~/assets/css/material-dashboard.css?v=2.1.0" rel="stylesheet" />
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <div class="wrapper">
        <div class="sidebar" data-color="purple" data-background-color="white" data-image="/assets/img/sidebar-1.jpg">
            <!--
                Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

                Tip 2: you can also add an image using data-image tag
            -->

            <div class="sidebar-wrapper">
                <div style="height:20px;"></div>
                <div class="card-profile" data-image="/assets/img/sidebar-1.jpg">
                    <div class="card-avatar" style="border-radius:0px;">
                        <img class="img" src="/assets/img/logo.png" />
                        <h6 class="card-category text-gray">TanInfo Solutions</h6>
                    </div>

                </div>
                <ul class="nav">
                    @{ string cls = "nav-item";
                        string Route = Url.RouteUrl(ViewContext.RouteData.Values).ToLower();
                    }
                    @if (Route == "/")
                    {
                        cls = "nav-item active";
                    }
                    else
                    {
                        cls = "nav-item";
                    }
                    <li class="@cls">
                        <a class="nav-link" href="/home">
                            <i class="material-icons">dashboard</i>
                            <p>Dashboard</p>
                        </a>
                    </li>
                    @if (Route.Contains("/category".ToLower()) == true)
                    {
                        cls = "nav-item active";
                    }
                    else
                    {
                        cls = "nav-item";
                    }
                    <li class="@cls">
                        <a class="nav-link" href="/Category">
                            <i class="material-icons">class</i>
                            <p>Product Category</p>
                        </a>
                    </li>
                    @if (Route.Contains("/orders".ToLower()) == true)
                    {
                        cls = "nav-item active";
                    }
                    else
                    {
                        cls = "nav-item";
                    }
                    <li class="@cls">
                        <a class="nav-link" href="/orders">
                            <i class="material-icons">shopping_cart</i>
                            <p>Orders</p>
                        </a>
                    </li>
                    @if (Route.Contains("/items".ToLower()) == true)
                    {
                        cls = "nav-item active";
                    }
                    else
                    {
                        cls = "nav-item";
                    }
                    <li class="@cls">
                        <a class="nav-link" href="/Items">
                            <i class="material-icons">toc</i>
                            <p>Products</p>
                        </a>
                    </li>
                    @if (Route.Contains("/stock".ToLower()) == true)
                    {
                        cls = "nav-item active";
                    }
                    else
                    {
                        cls = "nav-item";
                    }
                    <li class="@cls">
                        <a class="nav-link" href="/stock">
                            <i class="material-icons">line_weight</i>
                            <p>Manage Stock</p>
                        </a>
                    </li>
                    @if (Route.Contains("/po".ToLower()) == true)
                    {
                        cls = "nav-item active";
                    }
                    else
                    {
                        cls = "nav-item";
                    }
                    <li class="@cls">
                        <a class="nav-link" href="/po">
                            <i class="material-icons">library_books</i>
                            <p>Purchasing</p>
                        </a>
                    </li>
                    @if (Route.Contains("/notifications".ToLower()) == true) 
                    {
                        cls = "nav-item active";
                    }
                    else
                    {
                        cls = "nav-item";
                    }
                    <li class="@cls">
                        <a class="nav-link" href="/notifications">
                            <i class="material-icons">notifications</i>
                            <p>Notifications</p>
                        </a>
                    </li>
                    @if (Route.Contains("/admin".ToLower()) == true)
                    {
                        cls = "nav-item active";
                    }
                    else
                    {
                        cls = "nav-item";
                    }
                    <li class="@cls">
                        <a class="nav-link" href="/admin">
                            <i class="material-icons">person</i>
                            <p>Manage</p>
                        </a>
                    </li>
                    @*@if (Url.RouteUrl(ViewContext.RouteData.Values) == "/home/about")
        {
            cls = "nav-item active";
        }
        else
        {
            cls = "nav-item";
        }
        <li class="@cls">
            <a class="nav-link" href="/home/about">
                <i class="material-icons">bubble_chart</i>
                <p>About</p>
            </a>
        </li>
        @if (Url.RouteUrl(ViewContext.RouteData.Values) == "/home/contact")
        {
            cls = "nav-item active";
        }
        else
        {
            cls = "nav-item";
        }
        <li class="@cls">
            <a class="nav-link" href="/home/contact">
                <i class="material-icons">location_ons</i>
                <p>Contact</p>
            </a>
        </li>*@
                </ul>
            </div>
        </div>
        <div class="main-panel">
            <!-- Navbar -->
            <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
                <div class="container-fluid">
                    <div class="navbar-wrapper">
                        <h4 class="navbar-brand coloured-card-btn-img">@ViewBag.Title</h4>
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-end" style="padding-right:50px;">                        
                     
                        <ul class="navbar-nav">
                            <li class="nav-item dropdown">            
                                @{Html.RenderAction("_Notifications", "Notifications");}
                            </li>
                            <li class="nav-item dropdown text-center">
                                <a class="nav-link" href="#" id="navbarLocationLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="material-icons">location_city</i><br />Sampriti
                                </a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarLocationLink">
                                    <a class="dropdown-item" href="#">Civitech Sampriti</a>
                                    <a class="dropdown-item" href="#">Civitech Stadia</a>
                                </div>
                            </li>
                            <li class="nav-item dropdown text-center">
                                <a class="nav-link" href="#pablo" id="navbarDropdownMenuUser" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="material-icons">person</i><br />@User.Identity.GetUserFriendlyName()
                                </a>

                                <div class="dropdown-menu dropdown-menu-right card card-profile" style="width:200px;" aria-labelledby="navbarDropdownMenuUser">

                                    @if (User.Identity.IsAuthenticated)
            {
                        <div class="card-avatar">
                            <a href="#pablo">
                                <img class="img" src="@User.Identity.GetUserPhoto()" />
                            </a>
                        </div>
                        <div class="card-body">
                            <h4 class="card-category text-gray">@User.Identity.GetUserFriendlyName()</h4>
                            <h6 class="card-title">@User.Identity.GetUserJobTitle()</h6>
                            <p> <a href="/Manage/ChangePassword" rel="tooltip" title="Change your password">Change Password</a></p>
                            <p> <a href="/account/LogOff" rel="tooltip" class="btn btn-primary btn-round" title="Sign out from the system">Sign Out</a></p>

                        </div>
}
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <!-- End Navbar -->
            <div class="content">
                <div class="container-fluid">
                    @RenderBody()
                </div>
            </div>
        </div>
    </div>
    <!--   Core JS Files   -->
    <script src="~/assets/js/core/jquery.min.js" type="text/javascript"></script>
    <script src="~/assets/js/core/popper.min.js" type="text/javascript"></script>
    <script src="~/assets/js/core/bootstrap-material-design.min.js" type="text/javascript"></script>
    <script src="~/assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
    <!--  Google Maps Plugin    -->
    @*<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>*@
    <!-- Chartist JS -->
    <script src="~/assets/js/plugins/chartist.min.js"></script>
    <!--  Notifications Plugin    -->
    <script src="~/assets/js/plugins/bootstrap-notify.js"></script>
    <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="~/assets/js/material-dashboard.min.js?v=2.1.0" type="text/javascript"></script>
    <!-- Material Dashboard DEMO methods, don't include it in your project! -->
    <script src="~/assets/demo/demo.js"></script>
    <script>
    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      md.initDashboardPageCharts();
        //initialize the javascript
      //App.init();
    });
    </script>

    @*@Scripts.Render("~/bundles/jquery")*@
    @*@Scripts.Render("~/bundles/bootstrap")*@
    @RenderSection("scripts", required: false)
</body>
</html>
